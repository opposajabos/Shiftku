<!DOCTYPE html>
<html lang="id" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Shiftku</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@500;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: #f1f5f9;
        }
        .bento-card { transition: all 0.3s ease; }
        
        /* Filled Background Styles - Soft Pastel */
        .bg-pagi { background-color: #d1fae5; color: #065f46; border: 1px solid #a7f3d0; }
        .bg-malam { background-color: #fef3c7; color: #92400e; border: 1px solid #fde68a; }
        .bg-off { background-color: #ffe4e6; color: #9f1239; border: 1px solid #fecdd3; }

        .soft-shadow { box-shadow: 0 4px 20px -5px rgba(0,0,0,0.05); }
    </style>
</head>
<body class="text-slate-900 min-h-screen flex flex-col">

    <div class="max-w-md mx-auto w-full p-4 flex flex-col gap-4 flex-grow">
        
        <div class="bento-card p-5 bg-white border border-slate-200 rounded-[28px] flex justify-between items-center soft-shadow">
            <div>
                <h1 class="text-xl font-black tracking-tighter italic text-indigo-600">SHIFTKU</h1>
                <p id="headerDate" class="text-[10px] font-bold opacity-40 uppercase tracking-widest">13 FEB 2026</p>
            </div>
            <div class="flex flex-col items-end">
                <select id="teamSelect" onchange="saveTeamSelection()" class="select select-ghost font-black text-slate-900 select-sm focus:bg-slate-100 rounded-xl">
                    <option value="A">SHIFT A</option>
                    <option value="B">SHIFT B</option>
                    <option value="C">SHIFT C</option>
                </select>
            </div>
        </div>

        <div id="heroCard" class="bento-card p-7 relative overflow-hidden rounded-[32px] bg-white border border-slate-200 shadow-sm">
            <div class="relative z-10">
                <div id="heroBadge" class="text-[10px] font-black px-3 py-1 rounded-full mb-3 inline-block uppercase tracking-widest text-white shadow-sm">
                    MEMUAT...
                </div>
                <h2 id="heroTitle" class="text-3xl font-black tracking-tight leading-none mb-2 text-slate-900">Cek Jadwal...</h2>
                <p id="heroSubtitle" class="text-sm text-slate-500 font-medium leading-relaxed">Sabar ya Lif, lagi dihitungin nih.</p>
            </div>
            <div id="heroGradient" class="absolute -top-10 -right-10 w-48 h-48 blur-[60px] rounded-full opacity-20"></div>
        </div>

        <div class="bento-card p-5 bg-white border border-slate-200 rounded-[32px] soft-shadow">
            <div class="flex justify-between items-center mb-6 px-1 text-slate-900">
                <button onclick="moveMonth(-1)" class="btn btn-circle btn-ghost btn-sm font-bold">❮</button>
                <div class="flex gap-1 items-center font-extrabold text-xs tracking-tight uppercase">
                    <span id="monthDisplay">FEBRUARI</span>
                    <span class="opacity-20">/</span>
                    <span id="yearDisplay">2026</span>
                </div>
                <button onclick="moveMonth(1)" class="btn btn-circle btn-ghost btn-sm font-bold">❯</button>
            </div>

            <div class="grid grid-cols-7 gap-2">
                <div class="text-center text-[9px] font-black opacity-30 uppercase">Min</div>
                <div class="text-center text-[9px] font-black opacity-30 uppercase">Sen</div>
                <div class="text-center text-[9px] font-black opacity-30 uppercase">Sel</div>
                <div class="text-center text-[9px] font-black opacity-30 uppercase">Rab</div>
                <div class="text-center text-[9px] font-black opacity-30 uppercase">Kam</div>
                <div class="text-center text-[9px] font-black opacity-30 uppercase">Jum</div>
                <div class="text-center text-[9px] font-black opacity-30 uppercase">Sab</div>

                <div id="daysGrid" class="contents"></div>
            </div>

            <div class="flex justify-around items-center mt-8 pt-5 border-t border-slate-50">
                <div class="flex items-center gap-1.5">
                    <div class="w-2.5 h-2.5 rounded-full bg-emerald-400"></div>
                    <span class="text-[9px] font-black uppercase opacity-50">Pagi</span>
                </div>
                <div class="flex items-center gap-1.5">
                    <div class="w-2.5 h-2.5 rounded-full bg-amber-400"></div>
                    <span class="text-[9px] font-black uppercase opacity-50">Malam</span>
                </div>
                <div class="flex items-center gap-1.5">
                    <div class="w-2.5 h-2.5 rounded-full bg-rose-400"></div>
                    <span class="text-[9px] font-black uppercase opacity-50">Libur</span>
                </div>
            </div>
        </div>

        <footer class="mt-auto py-6 text-center">
            <p class="text-[9px] font-black opacity-30 tracking-[0.3em] uppercase">
                &copy; 2026 ALIF RAHMAN // SHIFTKU
            </p>
        </footer>
    </div>

<script>
    let currentView = new Date(2026, 1, 13);
    const REF_DATE = new Date(2026, 1, 13);
    const TEAM_MAP = { "C": 0, "A": 1, "B": 2 };
    const monthNames = ["Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember"];

    function saveTeamSelection() {
        const selectedTeam = document.getElementById('teamSelect').value;
        localStorage.setItem('userTeamAlif', selectedTeam);
        render();
    }

    function loadTeamSelection() {
        const savedTeam = localStorage.getItem('userTeamAlif');
        if (savedTeam) document.getElementById('teamSelect').value = savedTeam;
        else document.getElementById('teamSelect').value = "C";
    }

    function moveMonth(dir) {
        currentView.setMonth(currentView.getMonth() + dir);
        render();
    }

    function getShiftInfo(date, team) {
        const d1 = Date.UTC(date.getFullYear(), date.getMonth(), date.getDate());
        const d2 = Date.UTC(REF_DATE.getFullYear(), REF_DATE.getMonth(), REF_DATE.getDate());
        const diff = Math.floor((d1 - d2) / 86400000);
        const idx = (((diff + TEAM_MAP[team]) % 3) + 3) % 3;
        
        return [
            { label: 'SHIFT PAGI', fill: 'bg-pagi', title: 'Gas Pagi!', sub: 'Cuy, hari ini kamu masuk Pagi ya.', color: '#059669' },
            { label: 'SHIFT MALAM', fill: 'bg-malam', title: 'Night Owl!', sub: 'Siap-siap, hari ini kamu dapet Malam.', color: '#d97706' },
            { label: 'HARI LIBUR', fill: 'bg-off', title: 'Libur Bro!', sub: 'Mumpung off, mending rebahan atau jalan.', color: '#e11d48' }
        ][idx];
    }

    function render() {
        const team = document.getElementById('teamSelect').value;
        const grid = document.getElementById('daysGrid');
        grid.innerHTML = "";

        const year = currentView.getFullYear();
        const month = currentView.getMonth();
        const firstDay = new Date(year, month, 1).getDay();
        const lastDate = new Date(year, month + 1, 0).getDate();

        document.getElementById('monthDisplay').innerText = monthNames[month];
        document.getElementById('yearDisplay').innerText = year;
        document.getElementById('headerDate').innerText = new Date().toLocaleDateString('id-ID', {day:'numeric', month:'short', year:'numeric'}).toUpperCase();

        const todayInfo = getShiftInfo(new Date(), team);
        const heroBadge = document.getElementById('heroBadge');
        document.getElementById('heroTitle').innerText = todayInfo.title;
        document.getElementById('heroSubtitle').innerText = todayInfo.sub;
        heroBadge.innerText = todayInfo.label;
        heroBadge.style.backgroundColor = todayInfo.color;
        document.getElementById('heroGradient').style.backgroundColor = todayInfo.color;

        for(let i=0; i<firstDay; i++) grid.innerHTML += `<div></div>`;

        for(let d=1; d<=lastDate; d++) {
            const dateObj = new Date(year, month, d);
            const isToday = dateObj.toDateString() === new Date().toDateString();
            const info = getShiftInfo(dateObj, team);
            
            const todayClasses = "bg-slate-900 text-white shadow-lg scale-110 z-10 border-none rounded-xl";
            const normalClasses = `${info.fill} rounded-2xl font-bold`;

            grid.innerHTML += `
                <div class="aspect-square flex items-center justify-center text-[11px] font-black transition-all duration-200 ${isToday ? todayClasses : normalClasses}">
                    ${d}
                </div>`;
        }
    }

    loadTeamSelection();
    render();
</script>
</body>
</html>
